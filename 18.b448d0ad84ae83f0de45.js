(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{Rcjk:function(n,t,o){"use strict";o.r(t),o.d(t,"SignupModule",function(){return C});var e=o("ofXK"),i=o("mrSG"),r=o("3Pt+"),a=o("fXoL"),c=o("tyNb"),s=o("8OjO"),l=o("3LUQ"),u=o("5dVO"),b=o("n90K"),p=o("QC9C"),d=o("2MiI"),g=o("LmEr");function m(n,t){1&n&&(a.Ob(0,"small",19),a.ic(1," El email no es valido "),a.Nb())}function f(n,t){1&n&&(a.Ob(0,"small",19),a.ic(1,"Tus correos no coinciden"),a.Nb())}function h(n,t){1&n&&(a.Ob(0,"small",19),a.ic(1," La contrase\xf1a tiene que ser de al menos 8 caracteres, debe contener al menos una mayuscula, un numero, y un simbolo especial. "),a.Nb())}function O(n,t){1&n&&(a.Ob(0,"small",19),a.ic(1,"Tus contrase\xf1as no coinciden"),a.Nb())}let v=(()=>{class n{constructor(n,t,o,e,i,a){this.router=n,this.crudService=t,this.formBuilder=o,this.alertService=e,this.loader=i,this.storage=a,this.crudService.setEndpoint("auth/signup"),this.passwordMatch=!0,this.emailMatch=!0,this.form=this.formBuilder.group({email:[null,r.p.compose([r.p.required,r.p.email])],confirmEmail:[null,r.p.required],password:[null,r.p.compose([r.p.required,r.p.minLength(8),r.p.maxLength(50),r.p.pattern("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-zd$@$!%*?&].{7,}$")])],confirmPassword:[null,r.p.required]})}ngOnInit(){return Object(i.a)(this,void 0,void 0,function*(){this.storage.getKey()&&this.router.navigate(["/"])})}submit(){var n,t,o,e,r,a;return Object(i.a)(this,void 0,void 0,function*(){if(this.emailMatch=!0,this.passwordMatch=!0,!this.form.invalid)return(null===(n=this.form.get("email"))||void 0===n?void 0:n.value)!==(null===(t=this.form.get("confirmEmail"))||void 0===t?void 0:t.value)?(console.log(null===(o=this.form.get("email"))||void 0===o?void 0:o.value),console.log(null===(e=this.form.get("confirmEmail"))||void 0===e?void 0:e.value),void(this.emailMatch=!1)):void((null===(r=this.form.get("password"))||void 0===r?void 0:r.value)===(null===(a=this.form.get("confirmPassword"))||void 0===a?void 0:a.value)?(this.loader.beginLoad(),yield this.crudService.httpPost(this.form.value).toPromise().then(n=>{n.response&&this.alertService.pushAlert({type:"success",message:"Se ha enviado un correo al email proporcionado, abre el link para confirmar tu registro"})}).finally(()=>{this.form.reset(),this.loader.endLoad()})):this.passwordMatch=!1)})}navigateTo(n){this.router.navigate([n])}confirmPasswordFocus(){this.passwordMatch=!0}confirmEmailFocus(){this.emailMatch=!0}}return n.\u0275fac=function(t){return new(t||n)(a.Jb(c.b),a.Jb(s.a),a.Jb(r.c),a.Jb(l.a),a.Jb(u.a),a.Jb(b.a))},n.\u0275cmp=a.Db({type:n,selectors:[["app-signup"]],decls:58,vars:8,consts:[[1,"container-fluid"],[3,"justLogo"],[1,"row","mb-5"],[1,"col","text-center"],[3,"click"],[1,"row"],[1,"col"],[3,"formGroup"],[1,"group"],["formControlName","email","type","text","required",""],[1,"highlight"],[1,"bar"],["class","text-danger",4,"ngIf"],["formControlName","confirmEmail","type","text","required","",3,"focus"],["max","50","formControlName","password","type","password","required","",3,"maxLength"],["formControlName","confirmPassword","type","password","required","",3,"focus"],[1,"options"],[1,"btn","btn-outline-primary","btn-lg","rounded-pill",3,"disabled","click"],[1,"info"],[1,"text-danger"]],template:function(n,t){1&n&&(a.Kb(0,"app-alert"),a.Ob(1,"div",0),a.Kb(2,"app-header",1),a.Ob(3,"div",2),a.Ob(4,"div",3),a.Ob(5,"h1"),a.ic(6,"Reg\xedstrate"),a.Nb(),a.Ob(7,"h2"),a.ic(8,"\xbfYa tienes una cuenta? "),a.Ob(9,"a",4),a.Vb("click",function(){return t.navigateTo("login")}),a.ic(10,"Iniciar Sesi\xf3n"),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Ob(11,"div",5),a.Ob(12,"div",6),a.Ob(13,"form",7),a.Ob(14,"div",8),a.Kb(15,"input",9),a.Kb(16,"span",10),a.Kb(17,"span",11),a.Ob(18,"label"),a.ic(19,"Email"),a.Nb(),a.hc(20,m,2,0,"small",12),a.Nb(),a.Ob(21,"div",8),a.Ob(22,"input",13),a.Vb("focus",function(){return t.confirmEmailFocus()}),a.Nb(),a.Kb(23,"span",10),a.Kb(24,"span",11),a.Ob(25,"label"),a.ic(26,"Ingresa tu email de nuevo"),a.Nb(),a.hc(27,f,2,0,"small",12),a.Nb(),a.Ob(28,"div",8),a.Kb(29,"input",14),a.Kb(30,"span",10),a.Kb(31,"span",11),a.Ob(32,"label"),a.ic(33,"Password"),a.Nb(),a.hc(34,h,2,0,"small",12),a.Nb(),a.Ob(35,"div",8),a.Ob(36,"input",15),a.Vb("focus",function(){return t.confirmPasswordFocus()}),a.Nb(),a.Kb(37,"span",10),a.Kb(38,"span",11),a.Ob(39,"label"),a.ic(40,"Escribe tu contrase\xf1a de nuevo"),a.Nb(),a.hc(41,O,2,0,"small",12),a.Nb(),a.Ob(42,"div",16),a.Ob(43,"a",4),a.Vb("click",function(){return t.navigateTo("recovery")}),a.ic(44,"\xbfOlvidaste tu contrase\xf1a?"),a.Nb(),a.Kb(45,"br"),a.Ob(46,"button",17),a.Vb("click",function(){return t.submit()}),a.ic(47," Reg\xedstrate "),a.Nb(),a.Nb(),a.Nb(),a.Ob(48,"div",18),a.Ob(49,"p"),a.ic(50," Al registrarte, aceptas nuestros "),a.Ob(51,"a",4),a.Vb("click",function(){return t.navigateTo("conditions")}),a.ic(52,"T\xe9rminos de Uso"),a.Nb(),a.ic(53," y recibir emails y novedades de SHINSEKAI y reconoces que has le\xeddo nuestra "),a.Ob(54,"a",4),a.Vb("click",function(){return t.navigateTo("privacy")}),a.ic(55,"Pol\xedtica de Privacidad"),a.Nb(),a.ic(56,". "),a.Nb(),a.Nb(),a.Nb(),a.Nb(),a.Kb(57,"app-footer"),a.Nb()),2&n&&(a.yb(2),a.ac("justLogo",!0),a.yb(11),a.ac("formGroup",t.form),a.yb(7),a.ac("ngIf",t.form.controls.email.invalid&&t.form.controls.email.dirty),a.yb(7),a.ac("ngIf",!t.emailMatch),a.yb(2),a.ac("maxLength",50),a.yb(5),a.ac("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),a.yb(7),a.ac("ngIf",!t.passwordMatch),a.yb(5),a.ac("disabled",t.form.invalid))},directives:[p.a,d.a,r.q,r.i,r.e,r.b,r.h,r.d,r.o,e.j,g.a],styles:['h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#707070}h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e62121;cursor:pointer;text-decoration:none}h2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e62121;text-decoration:underline}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 5rem}.group[_ngcontent-%COMP%]{margin-bottom:1.5rem;position:relative}.group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999;font-size:18px;left:5px;pointer-events:none;position:absolute;top:10px;transition:all .2s ease;-moz-transition:all .2s ease;-webkit-transition:all .2s ease}.group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #757575;display:block;font-size:18px;padding:10px 10px 10px 5px;width:100%}.group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-bottom:none;outline:none}.group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{font-size:14px;top:-20px}.group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .bar[_ngcontent-%COMP%]:after, .group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .bar[_ngcontent-%COMP%]:before{width:50%}.group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .highlight[_ngcontent-%COMP%]{animation:inputHighlighter .3s ease}.group[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{display:block;position:relative}.group[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:after, .group[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:before{background:#5264ae;bottom:1px;content:"";height:2px;position:absolute;transition:all .2s ease;-moz-transition:all .2s ease;-webkit-transition:all .2s ease;width:0}.group[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:before{left:50%}.group[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:after{right:50%}.group[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{height:60%;left:0;opacity:.5;pointer-events:none;position:absolute;top:25%;width:100px}.options[_ngcontent-%COMP%]{margin-top:1rem;text-align:center}.options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;cursor:pointer}.options[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem}.info[_ngcontent-%COMP%]{align-items:center;display:flex;flex-direction:column;margin-bottom:1rem;margin-top:2rem}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;text-align:center;width:80%}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;cursor:pointer}.info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@keyframes inputHighlighter{0%{background:#5264ae}to{background:transparent;width:0}}@media only screen and (max-width:500px){form[_ngcontent-%COMP%]{padding:.5rem}.options[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1rem}}']}),n})();var M=o("j1ZV");const P=[{path:"",component:v}];let C=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.Hb({type:n}),n.\u0275inj=a.Gb({imports:[[e.b,c.e.forChild(P),r.n,M.a]]}),n})()}}]);