<div class="container">
  <div class="wrapper">
    <app-header [user]="user"
                [showAdmin]="user?.admin || false"
                [accountText]="user?.id ? 'Mi Cuenta' : 'Inicia Sesión'"></app-header>
    <div class="row">

      <!--      FIRST COLUMN-->
      <div class="col-lg-3 col-12 order-lg-0 order-1">
        <div class="categories">
          <div class="categories_originals">
            <img (click)="navigateTo('articles?type=original')" src="assets/original.jpeg" alt="original shinsekai figures">
          </div>
          <div (click)="navigateTo('articles?type=replica')" class="categories_replicas">
            <img src="assets/replica.jpeg" alt="replicas shinsekai figures">
          </div>
        </div>
        <div class="social">
          <a href="https://www.facebook.com/shinsekaitiendadefiguras/" target="_blank">
            <div class="social_facebook">
              <img class="sh-icon mr-3" src="assets/icons/facebook.svg" alt="fb">
              <span>Shinsekai Facebook</span>
            </div>
          </a>
          <a href="https://www.instagram.com/shinsekaitf/?hl=es-la" target="_blank">
            <div class="social_instagram">
              <img class="sh-icon mr-3" src="assets/icons/instagram-2.svg" alt="instagram">
              <span>Shinsekai Instagram</span>
            </div>
          </a>
          <a href="https://youtube.com/channel/UCY1_hXSRk813NGDc2f9NMwg" target="_blank">
            <div class="social_youtube">
              <img class="sh-icon mr-3" src="assets/icons/youtube.svg" alt="youtube">
              <span>Shinsekai Youtube</span>
            </div>
          </a>
        </div>

        <div class="animes">
          <div *ngFor="let promo of leftPromotions" class="animes_item animes_item--left">
            <img (click)="navigateTo(promo?.redirectPath)" [src]="promo?.imagePath" alt="promocion shinsekai">
          </div>
        </div>
      </div>

      <!--      Second COLUMN-->
      <div class="col-lg-6 mb-lg-5 col-12 order-lg-1 order-0 mb-5">
        <div *ngIf="carousels.length > 0" id="carousel" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div *ngFor="let c of carousels; let idx = index"
                 class="carousel-item"
                 [class.active]="idx === 0"
                 data-bs-interval="4000"
                 (click)="navigateTo(c?.redirectPath)">
              <img [src]="c.imagePath" class="w-100" alt="promotion">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carousel"
                  data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carousel"
                  data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>

        <div *ngIf="articlesBySales.length > 0" class="carousel_custom">
          <h4>RANKING</h4>
          <app-carousel [articles]="articlesBySales"></app-carousel>
        </div>

        <div class="article-box">
          <div class="article-box_tabs">
            <div (click)="changeTab(1)" class="article-box_tabs_item" [class.selected]="selectedTab === 1">Cátalogo
            </div>
            <div (click)="changeTab(2)" class="article-box_tabs_item" [class.selected]="selectedTab === 2">Nuevas
              Figuras
            </div>
          </div>

          <div class="article-box_prev">
            <ng-container *ngIf="selectedTab === 1">
              <div class="article-box_prev_item" *ngFor="let article of articlesBySales">
                <app-article-prev [price]="article.price || 0"
                                  [discountPrice]="article.discountPrice || 0"
                                  [image]="article.images[0].path || ''"
                                  [name]="article.name"
                                  (articleClick)="navigateToArticle(article.id)">
                </app-article-prev>
              </div>
            </ng-container>
            <ng-container *ngIf="selectedTab === 2">
              <div class="article-box_prev_item" *ngFor="let article of articlesByNew">
                <app-article-prev
                  [price]="article.price || 0"
                  [discountPrice]="article.discountPrice || 0"
                  [image]="article.images[0].path || ''"
                  [name]="article.name"
                  (articleClick)="navigateToArticle(article.id)">
                </app-article-prev>
              </div>
            </ng-container>
          </div>

          <button class="article-box_btn rounded-pill btn btn-sm btn-primary">
            Ver Más
          </button>
        </div>
      </div>

      <!--      Third COLUMN-->
      <div class="col-lg-3 col-12 order-3">
        <div class="menu">
          <div class="menu_item">
            <div class="menu_item_btn menu_item_btn--help">
              <img class="sh-icon_lg" src="assets/icons/informacion.svg" alt="help">
            </div>
            <span>Ayuda</span>
          </div>

          <div class="menu_item">
            <div class="menu_item_btn menu_item_btn--promo">
              <img class="sh-icon_lg" src="assets/icons/promotions.svg" alt="promo">
            </div>
            <span>Promos</span>
          </div>
        </div>

        <div class="animes">
          <div *ngFor="let promo of rightPromotions" class="animes_item">
            <img (click)="navigateTo(promo?.redirectPath)" [src]="promo?.imagePath" alt="promocion shinsekai">
          </div>
        </div>
      </div>
    </div>

    <app-footer></app-footer>
  </div>
</div>
